@(user: HGSSUser)
@edit = @{user!=null}

@main("Registracija spasitelj") {

  <link rel="stylesheet" type="text/css" href="@routes.Assets.at("stylesheets/register.css")" >
  @*validetta*@
  <script src="@routes.Assets.at("validetta/validetta.min.js")" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="@routes.Assets.at("validetta/validetta.min.css")">

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBOVsLLDx5MQmY4CUaD9-kt5Dqw5tPjJV4&libraries=places&callback=initAutocomplete"
    async defer></script>

  @*clockpicker*@
  <script src="@routes.Assets.at("javascripts/clockpicker.js")" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="@routes.Assets.at("stylesheets/clockpicker.css")">


    <script>
            function initAutocomplete() {
                var input = document.getElementById('pac-input');
                var searchBox = new google.maps.places.SearchBox(input);
                searchBox.addListener('places_changed', function () {
                    var places = searchBox.getPlaces();
                    if (places.length == 1) {
                        $('#pac-input').val(place.name);
                    } else {
                        alert("Odaberi samo jednu lokaciju!");
                        return;
                    }
                });
            }
    </script>

  <div class="window">
    <form action="" method="post" id="register_form">
      <div class="row separate">
        <div class="col-md-offset-3 col-md-6">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label for="firstName">Ime</label>
            <input type="text" class="form-control" name="firstName" id="firstName" data-validetta="required"
            value="@if(edit){user.firstName}">
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="lastName">Prezime</label>
            <input type="text" class="form-control" name="lastName" id="lastName" data-validetta="required"
            value="@if(edit){user.lastName}">
          </div>
        </div>
      </div>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="dostupanOd">Dostupan od</label>
                <div class="input-group clockpicker">
                  <input type="text" id="dostupanOd" class="form-control" value="@if(edit){user.availableFrom}else{09:00}">
                  <span class="input-group-addon">
                    <span class="glyphicon glyphicon-time"></span>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="dostupanDo">Dostupan do</label>
                <div class="input-group clockpicker">
                  <input type="text" id="dostupanDo" class="form-control" value="@if(edit){user.availableUntil}else{17:00}">
                  <span class="input-group-addon">
                    <span class="glyphicon glyphicon-time"></span>
                  </span>
                </div>
              </div>
            </div>
          </div>
        <div class="form-group">
          <label for="places">Lokacije</label>
          <div class="input-group">
            <input type="text" id="pac-input" class="form-control" name="location" placeholder="Radno mjesto, stan"
            value="@if(edit){user.location}"/>
            <span class="input-group-addon">
                <span class="glyphicon glyphicon-search"></span>
            </span>
          </div>
          <ul id="list" class="list-group location-list"></ul>
        </div>
          <button type="submit" class="btn btn-primary separate">Submit</button>

        </div>
      </div>
    </form>
  </div>


  <script>
          $("#register_form").validetta({
            realTime: true,
            display : 'inline',
            errorTemplateClass : 'validetta-inline'
          });
  </script>

  @*activate all tooltips*@
  <script>
          $(document).ready(function(){
            $('[data-toggle="tooltip"]').tooltip();
          });
  </script>

  @*clockpicker*@
  <script type="text/javascript">
          $('.clockpicker').clockpicker();
  </script>

}